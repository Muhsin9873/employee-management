<div>
  <div>
    <app-header activeItem="designation"></app-header>
  </div>
  <div class="mt-3" style="padding: 20px">
    <div class="desigHeader">
      <div>
        <h3><b>Designation List</b></h3>
      </div>
      <div>
        <button
          type="button"
          class="btn qw-button-md qw-btn-primary mr-2"
          type="button"
          (click)="addNewDesignation()"
        >
          Add New Record
        </button>
      </div>
    </div>
    <div class="search-wrapper mt-2">
      <input
        type="text"
        class="mt-2 t-color"
        placeholder="Search by name"
        [(ngModel)]="searchDesignation"
      />
    </div>
  </div>
  <div class="mt-3" style="padding: 20px">
    <div>
      <p-table [value]="designationList | appFilter : searchDesignation">
        <ng-template pTemplate="header">
          <tr>
            <th>Sl.No</th>
            <th>Name</th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
          <tr>
            <td>{{ currPage * pageSize + rowIndex + 1 }}</td>
            <td>{{ rowData?.name }}</td>
            <td>
              <div class="d-flex icon-settings">
                <span>
                  <i>
                    <img
                      src="../../../../assets/images/icons8-edit-64.png"
                      title="EDIT"
                      class="img-edit"
                      (click)="editDesignation(rowData)"
                  /></i>
                </span>
                <span>
                  <i
                    ><img
                      src="../../../../assets/images/icon delete.png"
                      alt=""
                      title="DELETE"
                      class="img-edit delete-icon"
                      (click)="deleteDesignation(rowData.id)"
                  /></i>
                </span>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div *ngIf="total_count != 0">
      <p-paginator
        [rows]="pageSize"
        [first]="pageSize * currPage"
        [totalRecords]="total_count"
        (onPageChange)="paginate($event)"
      ></p-paginator>
    </div>
  </div>
</div>

<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.3)"
  size="default"
  color="#ee4a26"
  type="square-jelly-box"
  [fullScreen]="true"
>
  <p style="color: white">Loading...</p>
</ngx-spinner>
